# 基于 C51 的恒温控制系统 (DS18B20 + LCD1602)

### 1. 项目简介
本项目是一个基于 STC89C52/REGX52 单片机的温度检测与控制系统。它能够实时读取环境温度，并通过按键设置目标温度。当实际温度偏离设定值时，系统会自动触发继电器（控制 TEC 或其他设备）进行调节。

### 2. 主要功能
* **温度采集**：使用 **DS18B20** 高精度单片总线温度传感器。
* **显示界面**：**LCD1602** 屏幕首行显示当前温度（精确到小数点后 4 位），次行显示设定温度。
* **按键调节**：通过 `P3_6` 和 `P3_5` 按键实现设定温度的小数点级（0.1s）步进加减。
* **自动控制**：
  * 当温度高于设定值 0.5℃ 时，触发 `P3_0` 灯亮并驱动 `P2_0` 继电器工作。
  * 当温度低于设定值 0.5℃ 时，触发 `P3_1` 指示灯。
* **计时显示**：系统工作时，数码管会实时显示工作秒数。

### 3. 硬件连接 (Pin Mapping)
| 外设 | 单片机引脚 | 功能描述 |
| :--- | :--- | :--- |
| **DS18B20** | DQ (OneWire) | 温度数据采集 |
| **LCD1602** | 标准接口 | 字符显示 |
| **按键1 (P3_6)** | P3.6 | 增加设定温度 |
| **按键2 (P3_5)** | P3.5 | 减少设定温度 |
| **指示灯 (绿)** | P3.0 | 降温工作指示 |
| **继电器/TEC** | P2.0 | 负载控制 |
| **外部中断** | P3.3 | 运行/暂停控制 |

### 4. 软件逻辑说明
* **定时器 0**：用于工作时间的精准累加，控制数码管刷新。
* **外部中断 1**：通过 P3.3 引脚实现程序的运行监控与暂停查询。
* **温度处理**：代码中对正负温度进行了判断显示，并使用浮点数进行逻辑比较。

### 5. 开发环境
* **语言**: C语言 (Keil C51)
* **烧录工具**: PZ-ISP
* ![wx_camera_1768270375289](https://github.com/user-attachments/assets/8bba6b25-e605-4151-a89f-3101db8a9e8b)
![IMG_20260114_212457](https://github.com/user-attachments/assets/2353f9fc-2350-47b6-abab-20040f481000)
<img width="780" height="774" alt="QQ_1768442040235" src="https://github.com/user-attachments/assets/2d656f40-0b8a-438b-a6c8-024dd0f81b28" />


https://github.com/user-attachments/assets/afce0e40-d3ad-4d38-8e5a-d14a49340e6a

